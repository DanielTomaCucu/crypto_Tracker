

<div class="mx-2 mt-10">
  <input
    class="w-full h-10 m-auto rounded-lg border-2 my-10 px-10 py-5"
    placeholder="Search"
     matInput (keyup)="applyFilter($event)" #input
  />
  <div class="w-full overflow-scroll">
  <table
    class="mat-elevation-z8"
    mat-table
    [dataSource]="dataSource"
    matSort
  >
    <ng-container matColumnDef="name" sticky>
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
      <td class="whitespace-nowrap" mat-cell *matCellDef="let row">
        {{ row.name }} <span class="text-zinc-500">{{ row.symbol }}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Price</th>
      <td class="whitespace-nowrap" mat-cell *matCellDef="let row">
        $ {{ row.metrics.market_data.price_usd | number }}
      </td>
    </ng-container>

    <ng-container matColumnDef="oneH">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>1H</th>
      <td class="whitespace-nowrap" mat-cell *matCellDef="let row">
        <p
          class="w-fit text-emerald-800 pr-2 bg-emerald-100 opacity-90 rounded-md"
          *ngIf="
            row.metrics.market_data.percent_change_usd_last_1_hour > 0;
            else underPerformOneHour
          "
        >
          <mat-icon class="w-1 h-1 -mb-1.5 -mr-1">arrow_drop_up</mat-icon>
          {{ row.metrics.market_data.percent_change_usd_last_1_hour | number }}
          %
        </p>
        <ng-template #underPerformOneHour>
          <p class="w-fit text-red-800 pr-2 bg-red-100 opacity-90 rounded-md">
            <mat-icon class="w-1 h-1 -mb-1.5 -mr-1">arrow_drop_down</mat-icon>
            {{
              row.metrics.market_data.percent_change_usd_last_1_hour | number
            }}
            %
          </p>
        </ng-template>
      </td>
    </ng-container>

    <ng-container matColumnDef="oneDay">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>24H</th>
      <td mat-cell *matCellDef="let row" class="whitespace-nowrap">
        <p
          class="w-fit text-emerald-800 pr-2 bg-emerald-100 opacity-90 rounded-md"
          *ngIf="
            row.metrics.market_data.percent_change_usd_last_24_hours > 0;
            else underPerform
          "
        >
          <mat-icon class="w-1 h-1 -mb-1.5 -mr-1">arrow_drop_up</mat-icon>
          {{
            row.metrics.market_data.percent_change_usd_last_24_hours | number
          }}%
        </p>
        <ng-template #underPerform>
          <p class="w-fit text-red-800 pr-2 bg-red-100 opacity-90 rounded-md">
            <mat-icon class="w-1 h-1 -mb-1.5 -mr-1">arrow_drop_down</mat-icon>
            {{
              row.metrics.market_data.percent_change_usd_last_24_hours | number
            }}%
          </p>
        </ng-template>
      </td>
    </ng-container>
    <ng-container matColumnDef="mcap">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>MarketCap</th>
      <td class="whitespace-nowrap" mat-cell *matCellDef="let row">
        $ {{ row.metrics.marketcap.current_marketcap_usd | number }}
      </td>
    </ng-container>
    <ng-container matColumnDef="volume">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Real Volume</th>
      <td class="whitespace-nowrap" mat-cell *matCellDef="let row">
        $ {{ row.metrics.market_data.real_volume_last_24_hours | number }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">No data matching the filter ""</td>
    </tr>
  </table>
</div>
</div>
